(function(t){function e(e){for(var r,s,n=e[0],l=e[1],c=e[2],p=0,d=[];p<n.length;p++)s=n[p],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],r=!0,n=1;n<a.length;n++){var l=a[n];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var r={},i={app:0},o=[];function s(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=r,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(a,r,function(e){return t[e]}.bind(null,r));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1aad":function(t,e,a){},"209a":function(t,e,a){"use strict";a("dbf3")},"56d7":function(t,e,a){"use strict";a.r(e);a("e623"),a("e379"),a("5dc8"),a("37e1");var r=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("Navigation")],1),a("router-view")],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"navbar-brand"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[a("h3",{staticClass:"title is-3"},[t._v("SafeMapp")])]),a("a",{staticClass:"navbar-burger burger",class:{"is-active":t.isOpen},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:function(e){return e.preventDefault(),t.toggleMenu(e)}}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])],1),a("div",{staticClass:"navbar-menu",class:{"is-active":t.isOpen},attrs:{id:"navbarBasicExample"}},[a("div",{staticClass:"navbar-start"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v(" Inicio ")]),t.user?a("router-link",{staticClass:"navbar-item",attrs:{to:"/mapa"}},[t._v(" Mapa ")]):a("router-link",{staticClass:"navbar-item",attrs:{to:"/mapasolovista"}},[t._v(" Mapasolovista ")]),a("router-link",{staticClass:"navbar-item",attrs:{to:"/perfil"}},[t._v(" Perfil ")])],1),a("div",{staticClass:"navbar-end"},[a("div",{staticClass:"navbar-item"},[t.user?[a("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[a("a",{staticClass:"navbar-link"},[t._v(" "+t._s(t.user.displayName||t.user.email)+" ")]),a("div",{staticClass:"navbar-dropdown"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/mapa"}},[t._v(" Mapa ")]),a("router-link",{staticClass:"navbar-item",attrs:{to:"/"}},[t._v(" Welcome ")]),a("a",{staticClass:"navbar-item",on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v(" Cerrar sesion ")])],1)])]:[a("div",{staticClass:"buttons"},[a("router-link",{staticClass:"button is-primary",attrs:{to:"/register"}},[a("strong",[t._v("Registrarme")])]),a("router-link",{staticClass:"button is-light",attrs:{to:"/login"}},[t._v(" Iniciar sesion ")])],1)]],2)])])])},n=[],l=a("8aa5"),c=a.n(l),u={data:function(){return{isOpen:!1,user:null}},methods:{toggleMenu:function(){var t=!this.isOpen;this.isOpen=t},logout:function(){var t=this;c.a.auth().signOut().then((function(){t.$router.push({name:"login"})}))}},created:function(){var t=this;c.a.auth().onAuthStateChanged((function(e){t.user=e||null}))}},p=u,d=a("2877"),m=Object(d["a"])(p,s,n,!1,null,null,null),g=m.exports,f={components:{Navigation:g}},v=f,b=(a("5c0b"),Object(d["a"])(v,i,o,!1,null,null,null)),h=b.exports,C=(a("45fc"),a("8c4f")),y=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-5"},[a("article",{staticClass:"message"},[a("div",{staticClass:"message-body"},[t._v(" Bienvenidos a SafeMapp, en esta aplicación podrás cartografiar la ciudad de acuerdo a tu punto de vista y ver lo que los demás usuarios cartografean a travéz de una caja de herramientas interactiva que te permitirá agregar figuras de cualquier sitio de tu ciudad!!! ")])]),a("article",{staticClass:"message is-dark"},[a("div",{staticClass:"message-body"},[t._v(" La finalidad de está aplicación es dar a conocer a los usuarios (registrados y no registrados) cómo se encuentra la ciudad en terminos de violencia y conflicto y de está forma ayudar ayudar a los ciudadanos honrados a que eviten esos sitios violentos o lugares donde es probable que corran peligro ")])]),a("article",{staticClass:"message is-primary"},[a("div",{staticClass:"message-body"},[t._v(" Los usuarios registrados podrán cartografiar la ciudad y contribuir a la cartografia de otros usuarios, de tal forma que puedan añadir información más relevante a lo ya añadido, o hacer correciones de cualquier indole. Los usuarios no registrados no tendrán la posibilidad de cartografiar las ciudades, sin embargo, siempre tendrán a disposición el mapa con las cartografias de otros usuarios a fin de permiterles conocer todo el tiempo las zonas seguras y no seguras de la ciudad ")])]),a("article",{staticClass:"message is-link"},[a("div",{staticClass:"message-body"},[t._v(" Para ayudarle a los usuarios a identificar visualmente mucho más rápida e intuitivamente la información, las zonas seguras se marcaran de color verde, en las zonas en las cuales se debe tener precaución están delimitadas en color amarillo y los sectores de riesgo potencial estarán coloreados de color rojo ")])]),a("b",[t._v("¡Ayudanos a ayudar y a hacer de tu ciudad un lugar mucho más seguro!")])])}],w={name:"welcome",components:{}},x=w,k=(a("bed0"),Object(d["a"])(x,y,_,!1,null,"bea3c19a",null)),L=k.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-50"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6 is-offset-3"},[a("h3",{staticClass:"title is-3"},[t._v("Iniciar sesion")]),a("hr"),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Email")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"e.g. alexsmith@gmail.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Contraseña")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),a("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[t._v("Iniciar sesion")])]),t.error?a("div",{staticClass:"notification is-danger mt-10"},[t._v(" "+t._s(t.error)+" ")]):t._e()])])])},j=[],P={data:function(){return{email:"",password:"",error:"",prueba:{nombre:"p1",apellido:"p2"}}},name:"Login",methods:{login:function(){var t=this;this.error="",this.email&&this.password?c.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(e){console.log(e),t.$router.push({name:"mapa"})})).catch((function(e){t.error=e.message})):this.error="Todos los campos son requeridos"}}},$=P,z=Object(d["a"])($,O,j,!1,null,null,null),E=z.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-50"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6 is-offset-3"},[a("h3",{staticClass:"title is-3"},[t._v("Crear una cuenta")]),a("hr"),a("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Nombres")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.nombres,expression:"usuario.nombres"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g Alex Smith"},domProps:{value:t.usuario.nombres},on:{input:function(e){e.target.composing||t.$set(t.usuario,"nombres",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Apellidos")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.apellidos,expression:"usuario.apellidos"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g. alexsmith@gmail.com"},domProps:{value:t.usuario.apellidos},on:{input:function(e){e.target.composing||t.$set(t.usuario,"apellidos",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Telefono")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.telefono,expression:"usuario.telefono"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g. 11223123123"},domProps:{value:t.usuario.telefono},on:{input:function(e){e.target.composing||t.$set(t.usuario,"telefono",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Email")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.email,expression:"usuario.email"}],staticClass:"input",attrs:{type:"email",placeholder:"e.g. alexsmith@gmail.com"},domProps:{value:t.usuario.email},on:{input:function(e){e.target.composing||t.$set(t.usuario,"email",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Contraseña")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usuario.password,expression:"usuario.password"}],staticClass:"input",attrs:{type:"password",placeholder:"e.g. alexsmith@gmail.com"},domProps:{value:t.usuario.password},on:{input:function(e){e.target.composing||t.$set(t.usuario,"password",e.target.value)}}})])]),a("button",{staticClass:"button is-primary",attrs:{type:"submit"}},[t._v("Registrarme")])]),t.error?a("div",{staticClass:"notification is-danger mt-10"},[t._v(" "+t._s(t.error)+" ")]):t._e()])])])},S=[],D={apiKey:"AIzaSyBqeJnN3IQdiOSLaZ3Vbgdn3dDniPvqwjs",authDomain:"crudautenticacion.firebaseapp.com",databaseURL:"https://crudautenticacion.firebaseio.com",projectId:"crudautenticacion",storageBucket:"crudautenticacion.appspot.com",messagingSenderId:"525866673441",appId:"1:525866673441:web:cb2dda10e5099b45d14a60"},M=c.a.initializeApp(D);M.firestore().settings({timestampsInSnapshots:!0});var N=M.firestore(),I={data:function(){return{name:"",email:"",password:"",error:"",ref:N.collection("users"),usuario:{}}},name:"Register",methods:{register:function(){var t=this;this.error="",this.usuario.nombres&&this.usuario.apellidos&&this.usuario.telefono&&this.usuario.email&&this.usuario.password?c.a.auth().createUserWithEmailAndPassword(this.usuario.email,this.usuario.password).then((function(e){e&&t.ref.add(t.usuario).then((function(e){console.log(e),t.usuario.nombres="",t.usuario.apellidos="",t.usuario.telefono="",t.usuario.email="",t.usuario.password="",t.$router.push({name:"mapa"})}))})).catch((function(e){t.error=e.message})):this.error="Todos los campos son requeridos"}}},R=I,q=Object(d["a"])(R,T,S,!1,null,null,null),A=q.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("l-map",{ref:"map",staticStyle:{height:"600px",width:"100%","z-index":"0"},attrs:{zoom:t.zoom,center:t.center}},[a("l-draw-toolbar",{attrs:{position:"topright"}}),t._l(t.figuras,(function(e){return a("div",{key:e._id},["polygon"==e.type?a("l-polygon",{attrs:{"lat-lngs":e.latlng,color:e.color,fillColor:e.color},on:{dblclick:function(a){return t.editar(e._id,e)},contextmenu:function(a){return t.eliminar(e._id)}}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"rectangle"==e.type?a("l-rectangle",{attrs:{bounds:e.latlng,color:e.color,fillColor:e.color},on:{dblclick:function(a){return t.editar(e._id,e)},contextmenu:function(a){return t.eliminar(e._id)}}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"marker"==e.type?a("l-marker",{attrs:{"lat-lng":e.latlng[0]},on:{dblclick:function(a){return t.editar(e._id,e)},contextmenu:function(a){return t.eliminar(e._id)}}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"polyline"==e.type?a("l-polyline",{attrs:{"lat-lngs":e.latlng,color:e.color},on:{dblclick:function(a){return t.editar(e._id,e)},contextmenu:function(a){return t.eliminar(e._id)}}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"circle"==e.type?a("l-circle",{attrs:{"lat-lng":e.latlng[0],radius:e.latlng[1],color:e.color,fillColor:e.color},on:{dblclick:function(a){return t.editar(e._id,e)},contextmenu:function(a){return t.eliminar(e._id)}}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e()],1)})),a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("l-control",{staticClass:"example-custom-control"},[a("p",{on:{click:t.showAlert}},[t._v(" Click me ")])]),a("l-polygon",{attrs:{"lat-lngs":t.polygon.latlngs,color:t.polygon.color}},[a("l-popup",{attrs:{content:t.polygon.name}})],1)],2),a("div",{staticClass:"modal",staticStyle:{"z-index":"100"}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"box"},[a("h1",{staticClass:"title",staticStyle:{color:"green"}},[t._v(" Califica este sitio")]),a("div",{staticClass:"columns "},[a("div",{staticClass:"column is-one-quarter"},[t._v(" Titulo ")]),a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.figura.title,expression:"figura.title"}],staticClass:"input",attrs:{type:"text",placeholder:"Nombre del sitio o evento ocurrido"},domProps:{value:t.figura.title},on:{input:function(e){e.target.composing||t.$set(t.figura,"title",e.target.value)}}})])]),a("div",{staticClass:"columns "},[a("div",{staticClass:"column is-one-quarter"},[t._v(" Descripción ")]),a("div",{staticClass:"column"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.figura.description,expression:"figura.description"}],staticClass:"input",attrs:{type:"text",placeholder:"Describe brevemente el lugar o suceso ocurrido"},domProps:{value:t.figura.description},on:{input:function(e){e.target.composing||t.$set(t.figura,"description",e.target.value)}}})])]),a("div",{staticClass:"columns "},[a("div",{staticClass:"column is-one-quarter"},[t._v(" Nivel de seguridad ")]),a("div",{staticClass:"column"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.figura.color,expression:"figura.color"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.figura,"color",e.target.multiple?a:a[0])}}},[a("option",[t._v("Muy seguro")]),a("option",[t._v("Tener precaución")]),a("option",[t._v("Inseguro")])])])])]),a("div",{staticClass:"columns "},[a("div",{staticClass:"column is-one-quarter"},[t._v(" Califica el sitio ")]),a("div",{staticClass:"column"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.figura.calification,expression:"figura.calification"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.figura,"calification",e.target.multiple?a:a[0])}}},[a("option",[t._v("★✩✩✩✩")]),a("option",[t._v("★★✩✩✩")]),a("option",[t._v("★★★✩✩")]),a("option",[t._v("★★★★✩")]),a("option",[t._v("★★★★★")])])])])]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"button is-fullwidth",on:{click:function(e){return e.preventDefault(),t.guardar(e)}}},[t._v(" Guardar ")])])])])])],1)},B=[],F=(a("a4d3"),a("e01a"),a("4160"),a("d81d"),a("a434"),a("159b"),a("96cf"),a("1da1")),J=a("e11e"),W=a("2699"),G=a("a40a"),H=a("2253"),K=a("258a"),Q=a("fb8e"),V=a("4e2b"),Z=a("635f"),X=a("0dbd"),Y=a("f60f"),tt=a("0924"),et=a.n(tt),at=(a("6cc5"),a("bc3a")),rt=a.n(at);delete J["Icon"].Default.prototype._getIconUrl,J["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var it={name:"Mapa",props:{msg:String},components:{LMap:W["a"],LTileLayer:G["a"],LControl:H["a"],LDrawToolbar:et.a,LPolygon:K["a"],LRectangle:Q["a"],LMarker:V["a"],LPolyline:Z["a"],LCircle:X["a"],LPopup:Y["a"]},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs.map.mapObject,a=new window.L.FeatureGroup;e.addLayer(a),e.on("draw:created",(function(e){var a=e.layerType,r=e.layer;t.estado="agregar";var i=document.querySelector(".modal");i.style.display="block",t.layer=r,"marker"===a?(t.tipofigura="marker",t.figura.type="marker",t.figura.latlng=[r.getLatLng().lat,r.getLatLng().lng]):"polygon"===a?(t.figura.latlng=r.getLatLngs(),t.tipofigura="polygon",t.figura.type="polygon"):"circle"===a?(t.tipofigura="circle",t.figura.type="circle",t.figura.latlng=[[r.getLatLng().lat,r.getLatLng().lng],[r._mRadius]]):"rectangle"===a?(t.tipofigura="rectangle",t.figura.type="rectangle",t.figura.latlng=r.getLatLngs()):"polyline"===a&&(t.tipofigura="polyline",t.figura.type="polyline",t.figura.latlng=r.getLatLngs())})),e.on("draw:deleted",(function(t){console.log(t)}))}))},data:function(){return{zoom:15,layer:null,figura:{},figuras:[],estado:"agregar",data:"",tipofigura:"",center:Object(J["latLng"])(3.449333156009882,-76.51537622482158),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',polygon:{latlngs:[[47.2263299,-1.6222],[47.21024000000001,-1.6270065],[47.1969447,-1.6136169],[47.18527929999999,-1.6143036],[47.1794457,-1.6098404],[47.1775788,-1.5985107],[47.1676598,-1.5753365],[47.1593731,-1.5521622],[47.1593731,-1.5319061],[47.1722111,-1.5143967],[47.1960115,-1.4841843],[47.2095404,-1.4848709],[47.2291277,-1.4683914],[47.2533687,-1.5116501],[47.2577961,-1.5531921],[47.26828069,-1.5621185],[47.2657179,-1.589241],[47.2589612,-1.6204834],[47.237287,-1.6266632],[47.2263299,-1.6222]],color:"#ff00ff",name:"Mi primer poligono"}}},created:function(){this.listarFiguras()},methods:{showAlert:function(){alert("Programa desarrollado por Beycker Ágredo y Anderson Hormiga")},listarFiguras:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.figura.title="",t.figura.description="",t.figura.color="",t.figura.calification="",t.figuras.splice(0,t.figuras.length),e.next=8,rt.a.get("https://safemapp-backend-finalproject.herokuapp.com/zones/").then((function(e){t.data=e.data,console.log(t.data),t.data.forEach((function(e){var a={_id:e._id,type:e.type,title:e.title,description:e.description,calification:e.calification,color:e.color,latlng:e.latlng};t.figuras.push(a)}))}));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:console.log("vamos a imprimir todas las figuras"),console.log(t.figuras);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()},guardar:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("Muy seguro"==t.figura.color?(t.figura.color="#43C523",console.log("Seguro")):"Tener precaución"==t.figura.color?(t.figura.color="#E8EB27",console.log("Precaucion")):"Inseguro"==t.figura.color&&(t.figura.color="#EF3522",console.log("Inseguro")),a=document.querySelector(".modal"),a.style.display="none","agregar"!=t.estado){e.next=8;break}return e.next=6,rt.a.post("https://safemapp-backend-finalproject.herokuapp.com/zones/",t.figura).then((function(t){console.log(t)}));case 6:e.next=11;break;case 8:if("editar"!=t.estado){e.next=11;break}return e.next=11,rt.a.put("https://safemapp-backend-finalproject.herokuapp.com/zones/"+t.figura._id,t.figura).then((function(t){console.log(t)}));case 11:t.listarFiguras();case 12:case"end":return e.stop()}}),e)})))()},editar:function(t,e){var a=this;return Object(F["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a.figura=e,a.estado="editar","#43C523"==a.figura.color?a.figura.color="Muy seguro":"#E8EB27"==a.figura.color?a.figura.color="Tener precaución":"#EF3522"==a.figura.color&&(a.figura.color="Inseguro"),i=document.querySelector(".modal"),i.style.display="block",console.log(t);case 6:case"end":return r.stop()}}),r)})))()},eliminar:function(t){var e=this;return Object(F["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,rt.a.delete("https://safemapp-backend-finalproject.herokuapp.com/zones/"+t).then((function(t){console.log(t)}));case 2:e.listarFiguras();case 3:case"end":return a.stop()}}),a)})))()}}},ot=it,st=(a("209a"),Object(d["a"])(ot,U,B,!1,null,"3e33ef8e",null)),nt=st.exports,lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("l-map",{ref:"map",staticStyle:{height:"600px",width:"100%","z-index":"0"},attrs:{zoom:t.zoom,center:t.center}},[t._l(t.figuras,(function(e){return a("div",{key:e._id},["polygon"==e.type?a("l-polygon",{attrs:{"lat-lngs":e.latlng,color:e.color,fillColor:e.color}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"rectangle"==e.type?a("l-rectangle",{attrs:{bounds:e.latlng,color:e.color,fillColor:e.color}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"marker"==e.type?a("l-marker",{attrs:{"lat-lng":e.latlng[0]}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"polyline"==e.type?a("l-polyline",{attrs:{"lat-lngs":e.latlng,color:e.color}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e(),"circle"==e.type?a("l-circle",{attrs:{"lat-lng":e.latlng[0],radius:e.latlng[1],color:e.color,fillColor:e.color}},[a("l-popup",{attrs:{content:"<b> Título: "+e.title+"<br><br><b>Calificación: </b>"+e.calification+"<br><b>Descripción: </b>"+e.description}})],1):t._e()],1)})),a("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),a("l-control",{staticClass:"example-custom-control"},[a("p",{on:{click:t.showAlert}},[t._v(" Click me ")])]),a("l-polygon",{attrs:{"lat-lngs":t.polygon.latlngs,color:t.polygon.color}},[a("l-popup",{attrs:{content:t.polygon.name}})],1)],2)],1)},ct=[];delete J["Icon"].Default.prototype._getIconUrl,J["Icon"].Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")});var ut={name:"Mapa",components:{LMap:W["a"],LTileLayer:G["a"],LControl:H["a"],LPolygon:K["a"],LRectangle:Q["a"],LMarker:V["a"],LPolyline:Z["a"],LCircle:X["a"],LPopup:Y["a"]},data:function(){return{zoom:15,figuras:[],data:"",center:Object(J["latLng"])(3.449333156009882,-76.51537622482158),url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',polygon:{latlngs:[[47.2263299,-1.6222],[47.21024000000001,-1.6270065],[47.1969447,-1.6136169],[47.18527929999999,-1.6143036],[47.1794457,-1.6098404],[47.1775788,-1.5985107],[47.1676598,-1.5753365],[47.1593731,-1.5521622],[47.1593731,-1.5319061],[47.1722111,-1.5143967],[47.1960115,-1.4841843],[47.2095404,-1.4848709],[47.2291277,-1.4683914],[47.2533687,-1.5116501],[47.2577961,-1.5531921],[47.26828069,-1.5621185],[47.2657179,-1.589241],[47.2589612,-1.6204834],[47.237287,-1.6266632],[47.2263299,-1.6222]],color:"#ff00ff",name:"Mi primer poligono"}}},created:function(){this.listarFiguras()},methods:{showAlert:function(){alert("Programa desarrollado por Beycker Ágredo y Anderson Hormiga")},listarFiguras:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.figuras.splice(0,t.figuras.length),e.next=4,rt.a.get("https://safemapp-backend-finalproject.herokuapp.com/zones/").then((function(e){t.data=e.data,console.log(t.data),t.data.forEach((function(e){var a={_id:e._id,type:e.type,title:e.title,description:e.description,calification:e.calification,color:e.color,latlng:e.latlng};t.figuras.push(a)}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:console.log("vamos a imprimir todas las figuras"),console.log(t.figuras);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))()}}},pt=ut,dt=(a("eecb"),Object(d["a"])(pt,lt,ct,!1,null,"82da0684",null)),mt=dt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container mt-50"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6 is-offset-3"},[a("h3",{staticClass:"title is-3"},[t._v("Perfil de usuario")]),a("hr"),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Nombre:")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usercomplete.nombres,expression:"usercomplete.nombres"}],staticClass:"input",attrs:{type:"text",placeholder:"Liz Caicedo",disabled:""},domProps:{value:t.usercomplete.nombres},on:{input:function(e){e.target.composing||t.$set(t.usercomplete,"nombres",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Apellido:")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usercomplete.apellidos,expression:"usercomplete.apellidos"}],staticClass:"input",attrs:{type:"text",placeholder:"Liz Caicedo",disabled:""},domProps:{value:t.usercomplete.apellidos},on:{input:function(e){e.target.composing||t.$set(t.usercomplete,"apellidos",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Email:")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usercomplete.email,expression:"usercomplete.email"}],staticClass:"input",attrs:{type:"text",placeholder:"Liz Caicedo",disabled:""},domProps:{value:t.usercomplete.email},on:{input:function(e){e.target.composing||t.$set(t.usercomplete,"email",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Telefono:")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.usercomplete.telefono,expression:"usercomplete.telefono"}],staticClass:"input",attrs:{type:"text",placeholder:"Liz Caicedo",disabled:""},domProps:{value:t.usercomplete.telefono},on:{input:function(e){e.target.composing||t.$set(t.usercomplete,"telefono",e.target.value)}}})])])])])])},ft=[],vt={data:function(){return{user:null,usercomplete:null}},created:function(){var t=this;c.a.auth().onAuthStateChanged((function(e){t.user=e||null})),this.listarUsuarios()},methods:{listarUsuarios:function(){var t=this;return Object(F["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.collection("users").get();case 3:a=e.sent,a.forEach((function(e){e.data().email==t.user.email&&(t.usercomplete=e.data())})),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},bt=vt,ht=Object(d["a"])(bt,gt,ft,!1,null,null,null),Ct=ht.exports;r["a"].use(C["a"]);var yt=new C["a"]({routes:[{path:"/",name:"welcome",component:L},{path:"/mapa",name:"mapa",component:nt},{path:"/mapasolovista",name:"mapasolovista",component:mt},{path:"/perfil",name:"perfil",component:Ct,props:!0,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:E},{path:"/register",name:"register",component:A}]});yt.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var r=c.a.auth().currentUser;r?a():a({name:"login"})}else a()}));var _t=yt;r["a"].config.productionTip=!1,new r["a"]({router:_t,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){},bb43:function(t,e,a){},bed0:function(t,e,a){"use strict";a("bb43")},dbf3:function(t,e,a){},eecb:function(t,e,a){"use strict";a("1aad")}});
//# sourceMappingURL=app.2e9815b6.js.map